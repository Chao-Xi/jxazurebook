
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Jacob's Azure 103&900 教程">
      
      
        <meta name="author" content="Jacob Xi">
      
      
      
        <link rel="prev" href="../2azure_sla/">
      
      
        <link rel="next" href="../../ubsaz/1azhci_intro/">
      
      
        
      
      
      <link rel="icon" href="../../images/logo.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.3">
    
    
      
        <title>3 Hybrid Connectivity - Jacob Azure103&900 tutorial Book</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="light-blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#3-hybrid-connectivity" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../.." title="Jacob Azure103&amp;900 tutorial Book" class="md-header__button md-logo" aria-label="Jacob Azure103&900 tutorial Book" data-md-component="logo">
      
  <img src="../../images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Jacob Azure103&900 tutorial Book
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              3 Hybrid Connectivity
            
          </span>
        </div>
      </div>
    </div>
    
      
    
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/Chao-Xi/jxazurebook.git" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    jxazurebook
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Jacob Azure103&amp;900 tutorial Book" class="md-nav__button md-logo" aria-label="Jacob Azure103&900 tutorial Book" data-md-component="logo">
      
  <img src="../../images/logo.png" alt="logo">

    </a>
    Jacob Azure103&900 tutorial Book
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Chao-Xi/jxazurebook.git" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    jxazurebook
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Welcome
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Azure Arch
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Azure Arch
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../arch/1Well_arch_viw/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Azure Well Architecture Review
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    AZ103 Adv Tutorial（Eng)
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    AZ103 Adv Tutorial（Eng)
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap1/6az103_ad_sub_resource/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    L1 Azure Administration: Manage Subscriptions and Resources
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap1/7az103_storage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    L2 Azure Administration: Implement and Manage Storage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap1/8az103_Vms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    L3 Deploy and Manage Virtual Machines
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap1/9az103_vn/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    L4 Configure and Manage Virtual Networks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap1/10az103_ad/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    L5 Azure Administration: Manage Identities
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap1/11az103_lb_ag/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    L6 Load Balancers and Application Gateways
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    AZ103 Adv Tutorial（Chn)
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    AZ103 Adv Tutorial（Chn)
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap2/12az_admin1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Azure Administrator认证学习 （1）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap2/13az103_admin2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Azure Administrator认证学习 （2）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap2/14az103_admin3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Azure Administrator认证学习 （3）
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Azure 103 interview
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Azure 103 interview
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap3/1az103_sub_resource/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    L1 Manage Azure Subscriptions and Resources
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap3/2az103_storage_accounts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    L2 Managing Azure storage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap3/3az103_vms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    L3 Deploy and Manage Virtual Machines (VMs)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap3/4az103_VN/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    L4 Configure and Manage Virtual Networks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap3/5az103_ad/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    L5 Manage Identities
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap3/6azure_review/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    L6 Azure Review 103
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Azure 104 Test
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Azure 104 Test
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../az104/1az_admin/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1 Azure Administration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../az104/2az_gc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2 Governance and Compliance
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../az104/3indentity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    3 AZ Identity
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../az104/4rbac/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    4 Role-Based Access Control
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../az104/5az_storage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    5 Azure Storage
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../az104/6network/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    6 Virtual Networking
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../az104/7IntersiteConnectivity/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    7 Intersite Connectivity
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../az104/8vm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    8 Azure Virtual Machines
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../az104/9LB/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    9 Network Traffic Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../az104/10webapp/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    10 Web Apps and Containers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../az104/11monitor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    11 Monitoring
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../az104/12backup_dr/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    12 Backup and Recovery
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../az104/13summary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    13 AZ104 Gpt Summary
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../az104/14exam_cheatsheet/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Administrator Certification (AZ-104) CheatSheet
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../az104/15exam_cheatsheet2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Administrator Certification (AZ-104) CheatSheet 2
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../az104/16cheatsheet_all/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Azure 104 CheatSheet
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../az104/17az104QA/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AZ104 - 原题1
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../az104/18az104QA2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AZ104 - 原题2
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../az104/19az104QA3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AZ104 - 原题3
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../az104/20az103QA4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AZ104 - 原题 Summary
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../az104/21az104Qs/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Az104 final test
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Azure AI 102
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Azure AI 102
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai102/1ai102/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Azure AI Engineer Associate Certification - AI102
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai102/2ai102/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AI-102 Designing and Implementing a Microsoft Azure AI Solution
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai102/3ai102/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AI-102 - 2
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai102/3ai102-sdk/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    AI-102 Complete SDK Summary
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai102/4ai102/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Azure AI-102 Exam Preparation: Technical Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Azure 305 test
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Azure 305 test
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../az305/1az305/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1 Azure Solution Architect & Identity and Access Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../az305/2az305/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2 Identity Security / Design a Compute Strategy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../az305/3az305/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    3 Networking Strateg / Connectivity & Security
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../az305/5az305_summary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    5 AZ305 Summary - 1
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../az305/6za305_summary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    6 AZ305 Summary - 2
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../az305/7az305_summary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    7 AZ305 Summary - 3
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../az305/8az305_summary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    8 AZ305 Summary - 4
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../az305/9az305_summary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    9 AZ305 Summary - 5
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../az305/10az305_summary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    10 AZ305 Summary - 6
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../az305/11az305_summary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    11 AZ305 Summary - 7
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../az305/12az305_test1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    12 AZ305 Test1
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../az305/az305_test2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    13 AZ305 Test2
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../az305/13az305_update/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    14 AZ305 Renew - Update
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Azure 900 and int
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Azure 900 and int
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/1az_900_int/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Az900 Fundamentals + Jam Azure Terraform
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap4/2azure_term_int/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Azure900 面试名词解释面试
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          <label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Azure AI 900
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            
  
    Azure AI 900
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai900/1ai900_ba/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1 Azure AI Fundamentals Certification 2024 (AI-900)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai900/2ai_900/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2 Azure AI Fundamentals certification
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai900/3ai_900/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    3 AI900 Practice exam
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai900/4ai_900/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    4 Real Exam - Chap 3
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai900/5ai_900_sum/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    5 AI900 Exam summary
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ai900/6sum_fin/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    6 AI900 finaL SUMMARY
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Azure AZ 400
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    Azure AZ 400
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../az400/1az400_learn/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1 Azure DevOps Engineer Expert Certification (AZ-400)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../az400/2az400_test/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2 Azure AZ400 Test
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_12" >
        
          
          <label class="md-nav__link" for="__nav_12" id="__nav_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Azure DP900
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_12">
            <span class="md-nav__icon md-icon"></span>
            
  
    Azure DP900
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/dp1/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Module 1 Explore core data
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/dp2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Module 2 Explore fundamental relational data concepts
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/dp3/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Module 3 Non-relational data in Azure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/dp4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Module 4 Large-scale data warehousing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/dp5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Module 5 data visualization
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/dp900_qa/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DP900 Real Exam
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/dp900_learn/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DP900 Learn (Cont.)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../chap5/dp900_sum/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DP900 Exam Points
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_13" checked>
        
          
          <label class="md-nav__link" for="__nav_13" id="__nav_13_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Azure UBS
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_13_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_13">
            <span class="md-nav__icon md-icon"></span>
            
  
    Azure UBS
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../1azure_hybird/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1 Implementing Hybrid Infrastructure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../2azure_sla/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2 微软Azure高韧性
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    3 Hybrid Connectivity
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    3 Hybrid Connectivity
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#azure-vpn-gateways" class="md-nav__link">
    <span class="md-ellipsis">
      
        Azure VPN Gateways
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Azure VPN Gateways">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#multiple-authentication-types-for-point-to-site-vpn" class="md-nav__link">
    <span class="md-ellipsis">
      
        Multiple Authentication Types for Point-to-Site VPN
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nat-for-site-to-site-vpn" class="md-nav__link">
    <span class="md-ellipsis">
      
        NAT For Site-to-site VPN
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#monitoring-diagnostics-for-vpn" class="md-nav__link">
    <span class="md-ellipsis">
      
        Monitoring &amp; Diagnostics for VPN
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#point-to-site-vpn" class="md-nav__link">
    <span class="md-ellipsis">
      
        Point-to-site VPN
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#site-to-site-vpn" class="md-nav__link">
    <span class="md-ellipsis">
      
        Site-to-site VPN
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#expressroute" class="md-nav__link">
    <span class="md-ellipsis">
      
        ExpressRoute
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ExpressRoute">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#expressroute-connectivity-models" class="md-nav__link">
    <span class="md-ellipsis">
      
        ExpressRoute Connectivity Models
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#standard-expressroute-in-colocation-model" class="md-nav__link">
    <span class="md-ellipsis">
      
        Standard ExpressRoute in colocation model
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expressroute-direct" class="md-nav__link">
    <span class="md-ellipsis">
      
        ExpressRoute Direct
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expressroute-design-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        ExpressRoute design patterns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#designing-for-disaster-recovery" class="md-nav__link">
    <span class="md-ellipsis">
      
        Designing for disaster recovery
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ipsec-encryption-over-expressroute" class="md-nav__link">
    <span class="md-ellipsis">
      
        IPsec encryption over ExpressRoute
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expressroute-ipv6-private-peering-public-preview" class="md-nav__link">
    <span class="md-ellipsis">
      
        ExpressRoute IPv6 Private Peering public preview
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#additional-new-features" class="md-nav__link">
    <span class="md-ellipsis">
      
        Additional new features
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#azure-route-server" class="md-nav__link">
    <span class="md-ellipsis">
      
        Azure Route Server
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#azure-route-server_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Azure Route Server
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Azure Route Server">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#swan-use-case" class="md-nav__link">
    <span class="md-ellipsis">
      
        SWAN use case
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expressroute-and-vpn-use-case" class="md-nav__link">
    <span class="md-ellipsis">
      
        ExpressRoute and VPN use case
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#azure-bastion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Azure Bastion
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ubsaz/1azhci_intro/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Azure Stack HCI 面向混合云和数据中心现代化的最佳基础设施
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ubsaz/2Migration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Azure Linux OSS Database Migration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_14" >
        
          
          <label class="md-nav__link" for="__nav_14" id="__nav_14_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Azure DevOps: Release Pipelines
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_14_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_14">
            <span class="md-nav__icon md-icon"></span>
            
  
    Azure DevOps: Release Pipelines
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../devops/1release_mgmt/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1 Introduction to Release Management
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../devops/2iac/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2 Infrastructure as Code
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../devops/3secuirty/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    3 Security, Approval, and Audit Trails
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../devops/4Devops_IAC/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    4 Azure DevOps的Azure资源IaC编排实战
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../devops/5Devops_go_host/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    5 基于Azure Devops的Golang项目云主机CI/CD实战
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../devops/6Devops_go_container/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    6 基于Azure DevOps的Golang项目容器化CI/CD实战
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_15" >
        
          
          <label class="md-nav__link" for="__nav_15" id="__nav_15_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Azure Monitoring
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_15_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_15">
            <span class="md-nav__icon md-icon"></span>
            
  
    Azure Monitoring
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../az_mon/1log_ana/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    1 Microsoft Azure Log Analytics Workspace
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../az_mon/2mon/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    2 Azure Monitoring Fundamentals
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../az_mon/3mon_test/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    3 Monitoring Microsoft Azure
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#azure-vpn-gateways" class="md-nav__link">
    <span class="md-ellipsis">
      
        Azure VPN Gateways
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Azure VPN Gateways">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#multiple-authentication-types-for-point-to-site-vpn" class="md-nav__link">
    <span class="md-ellipsis">
      
        Multiple Authentication Types for Point-to-Site VPN
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nat-for-site-to-site-vpn" class="md-nav__link">
    <span class="md-ellipsis">
      
        NAT For Site-to-site VPN
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#monitoring-diagnostics-for-vpn" class="md-nav__link">
    <span class="md-ellipsis">
      
        Monitoring &amp; Diagnostics for VPN
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#point-to-site-vpn" class="md-nav__link">
    <span class="md-ellipsis">
      
        Point-to-site VPN
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#site-to-site-vpn" class="md-nav__link">
    <span class="md-ellipsis">
      
        Site-to-site VPN
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#expressroute" class="md-nav__link">
    <span class="md-ellipsis">
      
        ExpressRoute
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ExpressRoute">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#expressroute-connectivity-models" class="md-nav__link">
    <span class="md-ellipsis">
      
        ExpressRoute Connectivity Models
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#standard-expressroute-in-colocation-model" class="md-nav__link">
    <span class="md-ellipsis">
      
        Standard ExpressRoute in colocation model
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expressroute-direct" class="md-nav__link">
    <span class="md-ellipsis">
      
        ExpressRoute Direct
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expressroute-design-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        ExpressRoute design patterns
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#designing-for-disaster-recovery" class="md-nav__link">
    <span class="md-ellipsis">
      
        Designing for disaster recovery
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ipsec-encryption-over-expressroute" class="md-nav__link">
    <span class="md-ellipsis">
      
        IPsec encryption over ExpressRoute
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expressroute-ipv6-private-peering-public-preview" class="md-nav__link">
    <span class="md-ellipsis">
      
        ExpressRoute IPv6 Private Peering public preview
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#additional-new-features" class="md-nav__link">
    <span class="md-ellipsis">
      
        Additional new features
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#azure-route-server" class="md-nav__link">
    <span class="md-ellipsis">
      
        Azure Route Server
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#azure-route-server_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Azure Route Server
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Azure Route Server">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#swan-use-case" class="md-nav__link">
    <span class="md-ellipsis">
      
        SWAN use case
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expressroute-and-vpn-use-case" class="md-nav__link">
    <span class="md-ellipsis">
      
        ExpressRoute and VPN use case
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#azure-bastion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Azure Bastion
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="3-hybrid-connectivity"><strong>3 Hybrid Connectivity</strong></h1>
<h2 id="azure-vpn-gateways">Azure VPN Gateways</h2>
<p><strong>Azure VPN Gateways provide secure, cross-premises connectivity to Azure Virtual Networks over the public internet from customer networks or devices</strong></p>
<p><img alt="Alt Image Text" src="../../images/chap6_3_5.png" title="Body image" /></p>
<p><strong>Site-to-Site</strong></p>
<ul>
<li>Provides Site-to-Site (52S) VPN connections to on-premises networks using IPsec/IKE (IKEv1 or IKEv2)</li>
<li>Usually requires a <strong>VPN device located on-premises that has a public IP address associated directly or behind NAT</strong></li>
<li>Support Border Gateway Protocol (BGP) for dynamic routing and custom IPsec/IKE policy</li>
</ul>
<p><strong>Point-to-Site</strong></p>
<ul>
<li>Provides a secure connection to your virtual network from individual client computers or devices</li>
<li>Useful for telecommuters who want to connect to Azure Vets from a remote location</li>
<li>Does not require an on-premises public-facing IP address or a VPN device</li>
<li>Support multiple protocols and authentication methods</li>
</ul>
<p><img alt="Alt Image Text" src="../../images/chap6_3_1.png" title="Body image" /></p>
<h3 id="multiple-authentication-types-for-point-to-site-vpn">Multiple Authentication Types for Point-to-Site VPN</h3>
<p><strong>Configure multiple authentication types on the same gateway for OpenVPN protocol</strong></p>
<ul>
<li>Certificate based</li>
<li>RADIUS</li>
<li>Azure Active Directory</li>
</ul>
<p><strong>Useful to support different platforms with different authentication requirement scenarios</strong></p>
<ul>
<li>Windows client - Azure AD authentication</li>
<li>Linux clients - Certificate-based authentication</li>
</ul>
<p><img alt="Alt Image Text" src="../../images/chap6_3_2.png" title="Body image" /></p>
<h3 id="nat-for-site-to-site-vpn">NAT For Site-to-site VPN</h3>
<p><strong>NAT</strong></p>
<ul>
<li>Overlapping IP address ranges</li>
<li>Preserve branch address allocations</li>
<li>Business-to-business connectivity</li>
</ul>
<p><strong>NAT policy types</strong></p>
<ul>
<li><strong>1:1 Static NAT</strong><ul>
<li>Bidirectional connections</li>
</ul>
</li>
<li><strong>Many-to-1 Dynamic NAT</strong><ul>
<li>Preserve or masquerade address ranges</li>
<li>Uni-directional connections</li>
</ul>
</li>
</ul>
<p><img alt="Alt Image Text" src="../../images/chap6_3_3.png" title="Body image" /></p>
<h3 id="monitoring-diagnostics-for-vpn">Monitoring &amp; Diagnostics for VPN</h3>
<ul>
<li>
<p><strong>BGP Dashboard</strong></p>
<ul>
<li>Session status</li>
<li>Advertised routes</li>
<li>Learnt routes</li>
</ul>
</li>
<li>
<p><strong>Portal support for VPN packet capture</strong></p>
<ul>
<li>With advanced filtering support</li>
</ul>
</li>
<li>
<p><strong>VPN connection management</strong></p>
<ul>
<li>Reset individual connection</li>
<li>Show connection SA</li>
<li>IKE responder-only mode</li>
</ul>
</li>
</ul>
<p><img alt="Alt Image Text" src="../../images/chap6_3_4.png" title="Body image" /></p>
<h3 id="point-to-site-vpn">Point-to-site VPN</h3>
<p>Point-to-site VPN 指的是：在云下的单点计算机上安装 VPN 软件，然后拨入 VPN 连接云上 Azure 的 VNet 网络。比较典型的使用场景是，员工在家办公，笔记本通过 VPN 拨入可以访问公司的云上资源。</p>
<p><strong>Point-to-site VPN 配置步骤如下——</strong></p>
<p>1.在Azure上首先创建 virtual network gateway，然后在 virtual network gateway 中选择 Point-to-site VPN，我们可以看到隧道类型支持多种协议，如下图所示：</p>
<p><img alt="Alt Image Text" src="../../images/chap6_3_6.png" title="Body image" /></p>
<p>2.与此同时，Point-to-site VPN 的认证类型 Azure Active Directory、基于证书（针对 Linux 客户端）和基于 RADIUS，如下图所示 :</p>
<p><img alt="Alt Image Text" src="../../images/chap6_3_7.png" title="Body image" /></p>
<p>那么，客户不同操作系统类型的笔记本，通过什么方式连接云上资源呢？</p>
<p>3.我们参照下图展示的 Point-to-site VPN 中，身份认证方式、隧道类型、操作系统类型三者的对应关系。</p>
<p><img alt="Alt Image Text" src="../../images/chap6_3_8.png" title="Body image" /></p>
<p>以 macOS 笔记本通过 OpenVPN 以 Azure AD 方式为例，我们首先在 Azure Portal 下载VPN client（配置文件）：</p>
<p><img alt="Alt Image Text" src="../../images/chap6_3_9.png" title="Body image" /></p>
<p>然后将配置文件导入到 macOS 客户端 VPN，并拨入 VPN 后，macOS 客户端就可以连通云上网络了。利用 Wireshark capture 抓包，可以看到通讯使用 OpenVPN 协议。</p>
<p><img alt="Alt Image Text" src="../../images/chap6_3_10.png" title="Body image" /></p>
<h3 id="site-to-site-vpn">Site-to-site VPN</h3>
<p>顾名思义，Site-to-site VPN 指的是：云下客户站点和云上 Azure 虚拟网络之间创建的安全连接。</p>
<p>在这种方式下，<strong>计算机在接入云下网络后无须任何操作，就可以连接云上资源。比较典型的应用场景是 Branch office 与云上资源的互联</strong>。</p>
<p>Site-to-site VPN 的安全连接创建后，员工将笔记本接入到办公室网络，就可以访问公司云上资源。</p>
<p><img alt="Alt Image Text" src="../../images/chap6_3_11.png" title="Body image" /></p>
<p><strong>在 Connection Type 中选择 Site-to-site：</strong></p>
<p><img alt="Alt Image Text" src="../../images/chap6_3_12.png" title="Body image" /></p>
<p><strong>选择或新建 Local network gateway :</strong></p>
<p><img alt="Alt Image Text" src="../../images/chap6_3_13.png" title="Body image" /></p>
<p><strong>Site-to-site VPN 创建成功，如下图所示</strong>：</p>
<p><img alt="Alt Image Text" src="../../images/chap6_3_14.png" title="Body image" /></p>
<p>为了避免云下云上网段重叠所带来的困扰，Site-to-site VPN 支持 NAT。</p>
<p>NAT 定义了在 IP 数据包中将一个 IP 地址转换为另一个 IP 地址的机制。它通常用于连接具有重叠 IP 地址范围的网络。连接网络的网关设备上的 NAT 规则或策略指定网络上地址转换的地址映射，具体配置步骤参照如下链接：</p>
<p>https://learn.microsoft.com/zh-cn/azure/vpn-gateway/nat-howto</p>
<p><strong>Site-to-site VPN 支持两种不同的 NAT 策略：</strong></p>
<ul>
<li>一对一的静态 NAT，这种方式提供了双向连接。</li>
<li>多对一动态 NAT，这种方式仅支持单向连接，并可用于伪装地址范围</li>
</ul>
<h2 id="expressroute">ExpressRoute</h2>
<p>与两种 VPN 方式不同，ExpressRoute 是在云上和云下创建专用连接。它不通过公共 Internet，并且提供比 Internet 连接更高的可靠性、更快的速度、更低的延迟和更高的安全性。</p>
<p><strong>ExpressRoute 配置步骤如下——</strong></p>
<p><img alt="Alt Image Text" src="../../images/chap6_3_15.png" title="Body image" /></p>
<h3 id="expressroute-connectivity-models"><strong>ExpressRoute Connectivity Models</strong></h3>
<p><img alt="Alt Image Text" src="../../images/chap6_3_16.png" title="Body image" /></p>
<h3 id="standard-expressroute-in-colocation-model"><strong>Standard ExpressRoute in colocation model</strong></h3>
<p><img alt="Alt Image Text" src="../../images/chap6_3_17.png" title="Body image" /></p>
<h3 id="expressroute-direct"><strong>ExpressRoute Direct</strong></h3>
<p><img alt="Alt Image Text" src="../../images/chap6_3_18.png" title="Body image" /></p>
<h3 id="expressroute-design-patterns">ExpressRoute design patterns</h3>
<p><strong>1 One flat VNET</strong></p>
<p><img alt="Alt Image Text" src="../../images/chap6_3_19.png" title="Body image" /></p>
<p>Quick to deploy, easy to manage; "common denominator" acrossClouds.</p>
<ul>
<li>Subscription-level resource limits;</li>
<li>fewer choices for security &amp; compliance setup.</li>
</ul>
<p><strong>2 VNETs all on ER circuit</strong></p>
<p><img alt="Alt Image Text" src="../../images/chap6_3_20.png" title="Body image" /></p>
<p>Each BU, each workload in its own security &amp; compliance boundary; NETs in same or different subscriptions (e.g., separate accounting and billing).</p>
<p>Limited NET connections per circuit; cross-VNET performance limited by gateway and higher latency.</p>
<p><strong>3 Hub and spoke</strong></p>
<p><img alt="Alt Image Text" src="../../images/chap6_3_21.png" title="Body image" /></p>
<ul>
<li>Hub-to-host common services and enforcecommon policies; virtually unlimited throughput between VNETs; </li>
<li>
<p>VETs in same or different subscriptions.</p>
</li>
<li>
<p>Management overhead; bottleneck in hub;</p>
</li>
<li>no native transit between Spoke VNETs..</li>
</ul>
<h3 id="designing-for-disaster-recovery">Designing for disaster recovery</h3>
<blockquote>
<p>Use <strong>your own WAN or Microsoft's network</strong> to achieve connectivity</p>
</blockquote>
<p><img alt="Alt Image Text" src="../../images/chap6_3_22.png" title="Body image" /></p>
<blockquote>
<p>Make sure you have <strong>symmetrical routing</strong></p>
</blockquote>
<h3 id="ipsec-encryption-over-expressroute">IPsec encryption over ExpressRoute</h3>
<p><strong>Overview</strong></p>
<ul>
<li>IPsec is end-to-end encryption</li>
<li>ExpressRoute is the underlay network and IPsec VPN is the overlay network.</li>
<li>IPsec can be deployed over Microsoft and Azure Private Peering</li>
</ul>
<p><strong>Best practices</strong></p>
<ul>
<li>Only VPN gateway IPs should be exchanged in the underlay.</li>
<li>On-prem and Azure VET routes should be exchanged in the  overlay</li>
<li>If ER GW receives all on-prem routes, ER will be selected as the preferred path for traffic from Azure to on-prem</li>
</ul>
<p><strong>ExpressRoute FastPath should be enabled (requires ER ultra perfgateways)</strong></p>
<p><strong>On-prem traffic will be sent from the MSEE directly to the VPN gateway; removing software component from the data path</strong></p>
<h3 id="expressroute-ipv6-private-peering-public-preview">ExpressRoute IPv6 Private Peering public preview</h3>
<ul>
<li>End-to-End IPv6 experience from on-premises to Azure</li>
<li>Private Peering support with your own defined IPv6 address spaces in your Virtual Networks</li>
<li>Requires ErGwAz1-3 currently; standard, high, and ultra-performance SKUs at GA</li>
<li>Support for non-Az region will be coming soon</li>
</ul>
<p><img alt="Alt Image Text" src="../../images/chap6_3_23.png" title="Body image" /></p>
<h3 id="additional-new-features">Additional new features</h3>
<p><strong>1000 max prefix from Azure to on prem (increased from 200) (GA)</strong></p>
<p><strong>New gateway metrics: (GA)</strong></p>
<ul>
<li>CPU</li>
<li>PPS</li>
</ul>
<blockquote>
<p>of route advertised and</p>
</blockquote>
<ul>
<li>received</li>
<li>Frequency of route changes</li>
</ul>
<blockquote>
<p>of VMs in a VNET</p>
</blockquote>
<p><strong>MACsec SCI and new Cipher support</strong></p>
<p><img alt="Alt Image Text" src="../../images/chap6_3_23.png" title="Body image" /></p>
<h3 id="azure-route-server">Azure Route Server</h3>
<ul>
<li>Provide BGP* endpoints for network virtual appliance to connect</li>
<li>Enable dynamic routing between VA and Azure virtual network</li>
<li>Simplify NVA deployment on Azure</li>
<li>Support any NVA**</li>
<li>Network topology agnostic (e.g., single Vet, hub-and-spoke, full-mesh)</li>
<li><strong>Integrated with ExpressRoute and VPN gateway</strong></li>
</ul>
<p><img alt="Alt Image Text" src="../../images/chap6_3_24.png" title="Body image" /></p>
<p>如下图所示，每个 ExpressRoute Circuit 有两个 Connection，Connection 之间是双活的。每个 Connect 中包含两个逻辑连接服务，提供两种类型的对等互连服务：</p>
<ul>
<li>
<p>Microsoft Peering （下图红色线）：用于将云下资源连接到 Office 365、Dynamics 365 或 Azure 公共服务。</p>
</li>
<li>
<p>Azure Private Peering （下图蓝色线）：用于将云下资源通过专用链接连接到 Azure 虚拟网络，即客户的云上资源。</p>
</li>
</ul>
<p><img alt="Alt Image Text" src="../../images/chap6_3_30.png" title="Body image" /></p>
<p>如上文所述，ExpressRoute 通过专线连接，因此使用 ExpressRoute Circuit 需要从网络运营商购买服务。</p>
<p>首先在 Azure China 上选择创建 ExpressRoute circuits，如下图所示：</p>
<p><img alt="Alt Image Text" src="../../images/chap6_3_31.png" title="Body image" /></p>
<p>然后，<strong>我们需要将 ExpressRoute Circuit 的服务秘钥告知对应的运营商</strong>，如下图所示：</p>
<p><img alt="Alt Image Text" src="../../images/chap6_3_32.png" title="Body image" /></p>
<p><strong>当运营商拿到服务秘钥开通专网后，线路状态变为“已预配”</strong>。</p>
<p><img alt="Alt Image Text" src="../../images/chap6_3_33.png" title="Body image" /></p>
<p>在使用选择运营商的服务时，还需要注意的是 ExpressRoute 的连接模式主要有两类：</p>
<ul>
<li>Cloud Exchange Colocation 以及 Point to-point 互联，需要使用运营商的二层专网。</li>
<li>Any-to-any，需要使用运营商的三层专网。</li>
</ul>
<p>在将 ExpressRoute 用于生产环境时，还需要考虑 ExpressRoute 网络的设计模式，如下图所示，主要有三种：</p>
<p><strong>第一种设计模式是 One flat VNET。</strong></p>
<p>在这种模式下，客户云上部署单个 VNET，然后通过 Express Route 实现云下云上互联。这是一个非常常见的场景，但这种模式有一定的局限性，例如客户需要在云上通过不同 VNet 实现负载隔离，这种方式就无法适配。</p>
<p><strong>第二种设计模式是 VNets all on ER circuit。</strong></p>
<p>在此设计模式中，客户在 Azure 云上部署了多个 VNET，并将这些 VNET 连接到一个Express Route circuit。这种模式在企业客户中很常见：客户有多个业务部门的场景，每个部门都需要自己的 VNET，以进行工作负载彼此分离，以实现自己的安全性和合规性边界。VNets all on ER circuit 这种设计模式很好地满足了这个需求。这种设计模式的局限性有两点：</p>
<ul>
<li>连接到一个 Express Route circuit 的 VNET 的数量是有上限的。</li>
<li>跨 VNET 流量会受到 ExpressRoute gateway 的限制。</li>
</ul>
<p><strong>第三种模式设计模式是 hub-spoke 模型。</strong></p>
<p>在这个模型中，客户部署 Hub 托管公共服务。Hub 中的虚拟网络通过 VNET peering 连接到 Spoke VNet。这种模式的好处是，我们可以将所有安全策略合并到 Hub VNet，所有入栈流量都通过 Hub VNet。这种设计模式是客户较为重要和复杂的生产环境中，我们优先推荐的方案。</p>
<h2 id="azure-route-server_1">Azure Route Server</h2>
<p><img alt="Alt Image Text" src="../../images/chap6_3_25.png" title="Body image" /></p>
<ul>
<li>Fully managed with built-in high availability</li>
<li>Control plane only - data traffic flows directly from the NVA to the VM and vice versa</li>
<li>Two or more VAs should be deployed for redundancy</li>
<li>Set up BGP mesh between the NVAs and the Route Server</li>
<li>Multiple NVAs can be set up as active-active or active-passive</li>
<li>For active-passive, use "AS Path Prepending" to signal the Route Server which NVA should be active and which should be passive</li>
<li>For active-active, Equal-cost multi-path (ECMP) routing is enabled between the NVAs and the VMs</li>
</ul>
<h3 id="swan-use-case"><strong>SWAN use case</strong></h3>
<p>If ExpressRoute connection goes down, traffic from on-prem will dynamically failover to the SWAN connection.</p>
<p><strong>SWAN may even select the connection, public or private, per application.</strong></p>
<p><img alt="Alt Image Text" src="../../images/chap6_3_26.png" title="Body image" /></p>
<h3 id="expressroute-and-vpn-use-case">ExpressRoute and VPN use case</h3>
<ul>
<li>ER gateway and VPN gateway peer with Azure Route Server automatically.</li>
<li>Once route exchange is enabled, the two on-premises can talk to each other.</li>
</ul>
<p><img alt="Alt Image Text" src="../../images/chap6_3_27.png" title="Body image" /></p>
<h2 id="azure-bastion">Azure Bastion</h2>
<p>Secure and seamless RDP and SSH access to your virtual machines without public IP address</p>
<p><strong>Feature announcements</strong></p>
<ul>
<li>Azure Key Vault Integration (GA)</li>
<li>RDP/SSH access to AKS nodes (GA)</li>
<li>Bastion Health metrics (Public preview)  (Session | CPU | Memory)</li>
<li>Bastion Scalable Gateway (Coming mid 2021)<ul>
<li>Support as many as 500 concurrent sessions</li>
<li>Ability to decrease the gateway size</li>
</ul>
</li>
</ul>
<p><img alt="Alt Image Text" src="../../images/chap6_3_28.png" title="Body image" /></p>
<p><strong>Azure Bastion Key Vault Integration (GA)</strong></p>
<p><img alt="Alt Image Text" src="../../images/chap6_3_29.png" title="Body image" /></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2020-9999 Jacob Xi
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>